@import "tailwindcss";

/**
 * Configure dark mode to use .dark class
 */
@custom-variant dark (&:where(.dark, .dark *));

/**
 * Design System Color Variables
 * Light theme defaults in :root, dark theme overrides in .dark
 */
:root {
  /* Base colors using OKLCH - Light theme defaults */
  --background: oklch(1 0 0); /* #ffffff */
  --foreground: oklch(0.145 0 0); /* near black */

  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);

  --primary: oklch(0.205 0 0); /* gray-900 */
  --primary-foreground: oklch(0.985 0 0); /* near white */

  --secondary: oklch(0.97 0 0); /* gray-50 */
  --secondary-foreground: oklch(0.205 0 0);

  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0); /* gray-500 */

  --border: oklch(0.922 0 0); /* gray-200 */
  --border-hover: oklch(0.85 0 0); /* gray-300 */
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);

  /* Semantic role colors */
  --assistant-bg: oklch(0.965 0.015 252);
  --assistant-fg: oklch(0.455 0.183 264);
  --assistant-border: oklch(0.94 0.025 252);

  --user-bg: oklch(0.97 0 0);
  --user-fg: oklch(0.556 0 0);
  --user-border: oklch(0.922 0 0);

  --system-bg: oklch(0.97 0.025 85);
  --system-fg: oklch(0.54 0.15 65);
  --system-border: oklch(0.945 0.04 85);

  --tool-bg: oklch(0.97 0 0);
  --tool-fg: oklch(0.556 0 0);
  --tool-border: oklch(0.922 0 0);

  /* Capability icon colors */
  --capability-codegen: oklch(0.205 0 0);
  --capability-planning: oklch(0.455 0.183 264);
  --capability-template: oklch(0.52 0.19 303);
  --capability-compiler: oklch(0.55 0.16 155);
  --capability-blocks: oklch(0.64 0.2 45);
}

/**
 * Dark theme overrides - GitHub Primer inspired
 */
.dark {
  --background: oklch(0.141 0.005 285.823); /* #0d1117 */
  --foreground: oklch(0.92 0.004 285); /* #e6edf3 */

  --card: oklch(0.21 0.006 285.885); /* #161b22 */
  --card-foreground: oklch(0.92 0.004 285);

  --primary: oklch(0.92 0.004 285);
  --primary-foreground: oklch(0.21 0.006 285.885);

  --secondary: oklch(0.274 0.006 286.033); /* #21262d */
  --secondary-foreground: oklch(0.92 0.004 285);

  --muted: oklch(0.274 0.006 286.033);
  --muted-foreground: oklch(0.552 0.016 285.938); /* #7d8590 */

  --border: oklch(0.32 0.008 285); /* #30363d */
  --border-hover: oklch(0.38 0.01 285); /* #484f58 */
  --input: oklch(0.35 0.008 285);
  --ring: oklch(0.552 0.016 285.938);

  /* Semantic role colors for dark theme */
  --assistant-bg: oklch(0.25 0.04 264);
  --assistant-fg: oklch(0.7 0.15 264);
  --assistant-border: oklch(0.3 0.05 264);

  --user-bg: oklch(0.25 0.005 285);
  --user-fg: oklch(0.7 0.015 286);
  --user-border: oklch(0.3 0.008 285);

  --system-bg: oklch(0.3 0.05 65);
  --system-fg: oklch(0.75 0.12 65);
  --system-border: oklch(0.35 0.06 65);

  --tool-bg: oklch(0.25 0.005 285);
  --tool-fg: oklch(0.6 0.015 286);
  --tool-border: oklch(0.3 0.008 285);

  /* Capability icon colors for dark theme */
  --capability-codegen: oklch(0.92 0.004 285);
  --capability-planning: oklch(0.7 0.15 264);
  --capability-template: oklch(0.72 0.16 303);
  --capability-compiler: oklch(0.75 0.14 155);
  --capability-blocks: oklch(0.78 0.16 45);
}

/**
 * Map CSS variables to Tailwind utilities
 */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-border: var(--border);
  --color-border-hover: var(--border-hover);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --color-assistant-bg: var(--assistant-bg);
  --color-assistant-fg: var(--assistant-fg);
  --color-assistant-border: var(--assistant-border);

  --color-user-bg: var(--user-bg);
  --color-user-fg: var(--user-fg);
  --color-user-border: var(--user-border);

  --color-system-bg: var(--system-bg);
  --color-system-fg: var(--system-fg);
  --color-system-border: var(--system-border);

  --color-tool-bg: var(--tool-bg);
  --color-tool-fg: var(--tool-fg);
  --color-tool-border: var(--tool-border);

  --color-capability-codegen: var(--capability-codegen);
  --color-capability-planning: var(--capability-planning);
  --color-capability-template: var(--capability-template);
  --color-capability-compiler: var(--capability-compiler);
  --color-capability-blocks: var(--capability-blocks);
}

/**
 * Radix Collapsible Animation
 * Smooth expand/collapse animation using CSS variables
 */
.collapsible-content {
  overflow: hidden;
}

.collapsible-content[data-state="open"] {
  animation: collapsibleSlideDown 200ms cubic-bezier(0.87, 0, 0.13, 1);
}

.collapsible-content[data-state="closed"] {
  animation: collapsibleSlideUp 200ms cubic-bezier(0.87, 0, 0.13, 1);
}

@keyframes collapsibleSlideDown {
  from {
    height: 0;
  }
  to {
    height: var(--radix-collapsible-content-height);
  }
}

@keyframes collapsibleSlideUp {
  from {
    height: var(--radix-collapsible-content-height);
  }
  to {
    height: 0;
  }
}
